@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Dark theme (default) ─────────────────────────────────── */
:root {
  --surface:          #0d0d0d;
  --surface-raised:   #141414;
  --surface-overlay:  #1a1a1a;
  --surface-border:   #2a2a2a;
  --accent:           #00d4aa;
  --accent-muted:     rgba(0, 212, 170, 0.2);

  /* Bull/Bear — also as space-separated RGB triples for Tailwind opacity modifiers */
  --bull:     #00d4aa;
  --bull-rgb: 0, 212, 170;
  --bear:     #ff4d6d;
  --bear-rgb: 255, 77, 109;

  --text-primary: #e8e8e8;
  --text-muted:   #666;
  color-scheme: dark;
}

/* ─── Light theme ───────────────────────────────────────────── */
html[data-theme="light"] {
  --surface:         #f3f4f6;
  --surface-raised:  #ffffff;
  --surface-overlay: #e9eaec;
  --surface-border:  #d1d5db;
  --accent:          #00b894;
  --accent-muted:    rgba(0, 184, 148, 0.15);
  --text-primary:    #111827;
  --text-muted:      #6b7280;
  color-scheme: light;
}

/* ─── Light mode text overrides ────────────────────────────── */
/* Tailwind's neutral-* and text-white are hardcoded, so override here */
html[data-theme="light"] { color: #111827; }
html[data-theme="light"] .text-white       { color: #111827 !important; }
html[data-theme="light"] .text-neutral-100 { color: #1f2937 !important; }
html[data-theme="light"] .text-neutral-200 { color: #1f2937 !important; }
html[data-theme="light"] .text-neutral-300 { color: #374151 !important; }
html[data-theme="light"] .text-neutral-400 { color: #6b7280 !important; }
html[data-theme="light"] .text-neutral-500 { color: #9ca3af !important; }
html[data-theme="light"] .text-neutral-600 { color: #d1d5db !important; }
html[data-theme="light"] .text-neutral-700 { color: #e5e7eb !important; }
/* Inputs and form elements */
html[data-theme="light"] input,
html[data-theme="light"] textarea { color: #111827 !important; }
html[data-theme="light"] input::placeholder { color: #9ca3af !important; }
/* Font-mono code blocks */
html[data-theme="light"] .font-mono { color: #1f2937; }

/* ─── Base ─────────────────────────────────────────────────── */
html, body {
  background: var(--surface);
  color: var(--text-primary);
  font-family: 'Inter', system-ui, sans-serif;
  min-height: 100vh;
}

/* ─── Scrollbars ────────────────────────────────────────────── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--surface-border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #3a3a3a; }

/* ─── Widget shell ──────────────────────────────────────────── */
.widget {
  @apply bg-surface-raised border border-surface-border rounded-xl overflow-hidden flex flex-col;
}

.widget-header {
  @apply flex items-center justify-between px-4 py-2 border-b border-surface-border text-xs font-semibold uppercase tracking-wider;
  color: var(--text-muted);
}

/* ─── React Grid Layout ─────────────────────────────────────── */
.react-grid-item.react-grid-placeholder {
  background: var(--accent);
  opacity: 0.1;
  border-radius: 12px;
}

.react-resizable-handle {
  opacity: 0;
  transition: opacity 0.2s;
}

.react-grid-item:hover .react-resizable-handle {
  opacity: 0.5;
}
